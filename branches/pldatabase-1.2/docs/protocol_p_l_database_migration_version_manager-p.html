<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>PlausibleDatabase: &lt; PLDatabaseMigrationVersionManager &gt; Protocol Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>&lt; PLDatabaseMigrationVersionManager &gt; Protocol Reference</h1><!-- doxytag: class="PLDatabaseMigrationVersionManager-p" -->Manages the database migration version.  
<a href="#_details">More...</a>
<p>
<code>#import &lt;<a class="el" href="_p_l_database_migration_version_manager_8h_source.html">PLDatabaseMigrationVersionManager.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for &lt; PLDatabaseMigrationVersionManager &gt;:</div>
<div class="dynsection">
<p><center><img src="protocol_p_l_database_migration_version_manager-p__inherit__graph.png" border="0" usemap="#_3_01_p_l_database_migration_version_manager_01_4__inherit__map" alt="Inheritance graph"></center>
<map name="_3_01_p_l_database_migration_version_manager_01_4__inherit__map">
<area shape="rect" id="node3" href="interface_p_l_sqlite_migration_version_manager.html" title="Implements database schema versioning using SQLite&#39;s per&#45;database user_version..." alt="" coords="35,83,277,112"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="protocol_p_l_database_migration_version_manager-p-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">(BOOL)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_p_l_database_migration_version_manager-p.html#f1bf06ccc6a0dca22c23f02ee520e4c5">version:forDatabase:error:</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve the database's migration version, returning YES on success, or NO on failure.  <a href="#f1bf06ccc6a0dca22c23f02ee520e4c5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">(BOOL)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_p_l_database_migration_version_manager-p.html#d8228cd8046653f29ab994e51bebdd8f">setVersion:forDatabase:error:</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the database's migration version, returning YES on success, or NO on failure.  <a href="#d8228cd8046653f29ab994e51bebdd8f"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Manages the database migration version. 
<p>
The version may be stored using any method.<p>
<dl class="user" compact><dt><b>Thread Safety</b></dt><dd><a class="el" href="protocol_p_l_database_migration_version_manager-p.html" title="Manages the database migration version.">PLDatabaseMigrationVersionManager</a> instances are not required to implement any locking and must not be shared between threads. </dd></dl>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="d8228cd8046653f29ab994e51bebdd8f"></a><!-- doxytag: member="PLDatabaseMigrationVersionManager&#45;p::setVersion:forDatabase:error:" ref="d8228cd8046653f29ab994e51bebdd8f" args="(int version,[forDatabase] id&lt; PLDatabase &gt; database,[error] NSError **outError)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) setVersion:           </td>
          <td></td>
          <td class="paramtype">(int)&nbsp;</td>
          <td class="paramname"> <em>version</em></td>
        </tr>
        <tr>
          <td class="paramkey">forDatabase:</td>
          <td></td>
          <td class="paramtype">(id&lt; <a class="el" href="protocol_p_l_database-p.html">PLDatabase</a> &gt;)&nbsp;</td>
          <td class="paramname"> <em>database</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError **)&nbsp;</td>
          <td class="paramname"> <em>outError</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the database's migration version, returning YES on success, or NO on failure. 
<p>
A transaction will be opened prior to this method being called. The transaction will be committed upon the return of a success value (YES). If this method returns NO, the entire transaction will be aborted, and no changes made to the database.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>version</em>&nbsp;</td><td>The new migration version. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>database</em>&nbsp;</td><td>An active database connection on which to issue any queries. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>outError</em>&nbsp;</td><td>A pointer to an NSError object variable. If an error occurs, this pointer will contain an error object indicating why the version could not be retrieved. If no error occurs, this parameter will be left unmodified. You may specify NULL for this parameter, and no error information will be provided. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="f1bf06ccc6a0dca22c23f02ee520e4c5"></a><!-- doxytag: member="PLDatabaseMigrationVersionManager&#45;p::version:forDatabase:error:" ref="f1bf06ccc6a0dca22c23f02ee520e4c5" args="(int *version,[forDatabase] id&lt; PLDatabase &gt; database,[error] NSError **outError)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) version:           </td>
          <td></td>
          <td class="paramtype">(int *)&nbsp;</td>
          <td class="paramname"> <em>version</em></td>
        </tr>
        <tr>
          <td class="paramkey">forDatabase:</td>
          <td></td>
          <td class="paramtype">(id&lt; <a class="el" href="protocol_p_l_database-p.html">PLDatabase</a> &gt;)&nbsp;</td>
          <td class="paramname"> <em>database</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError **)&nbsp;</td>
          <td class="paramname"> <em>outError</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retrieve the database's migration version, returning YES on success, or NO on failure. 
<p>
If the database version is uninitialized, a value of 0 must be provided. This method may also perform any necessary initialization of versioning meta-data tables.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>version</em>&nbsp;</td><td>A pointer to an NSInteger variable where the current migration version will be stored on success. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>database</em>&nbsp;</td><td>An active database connection on which to issue any queries. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>outError</em>&nbsp;</td><td>A pointer to an NSError object variable. If an error occurs, this pointer will contain an error object indicating why the version could not be retrieved. If no error occurs, this parameter will be left unmodified. You may specify NULL for this parameter, and no error information will be provided. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr>The documentation for this protocol was generated from the following file:<ul>
<li>Classes/<a class="el" href="_p_l_database_migration_version_manager_8h_source.html">PLDatabaseMigrationVersionManager.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Aug 31 21:35:04 2009 for PlausibleDatabase by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
